(function(f,s){function g(a){clearTimeout(a);delete h[a]}function b(a){function p(){g(c);i()?j():q||(k<e?(d&&(l=d[f++]),c=setTimeout(p,l),h[c]=0,k+=l):m())}function m(a){q=!0;g(c);a?n&&n.call():o&&o.call();n=o=c=null}function b(){m()}function j(){m(!0)}if(!r){var i=a.test,n=a.ready,o=a.quit,d=a.intervals,f=0,l=a.frequency||250,e=a.timeout||3E4,k=0,q,c;if(d){e=0;for(a=d.length;a--;)e+=d[a]}i.quit=b;i.ready=j;p();return{quit:b,ready:j}}}var h={},r;(s||f).poll=b;b.kill=function(a){for(var b in h)g(b);
r=a}})(window);
