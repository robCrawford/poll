/*! poll.js - v0.1.0 - 2014-08-29
* Copyright (c) 2014 Rob Crawford; Licensed MIT */
!function(a,b,c){"object"==typeof exports?module.exports=b():(c||a).poll=b()}(this,function(){function a(e){function f(){if(b(j),k(r))h();else{if(i)return;q>r?(n&&(p=n[o++]),j=setTimeout(f,p),d[j]=1,r+=p):g()}}function g(a){i=!0,b(j),a?l&&l.call():m&&m.call(),l=m=j=null}function h(){g(!0)}if(!c){var i,j,k=e.test,l=e.ready,m=e.quit,n=e.intervals,o=0,p=e.frequency||a.frequency,q=e.timeout||a.timeout,r=0;if(n){q=0;for(var s=n.length;s--;)q+=n[s]}return k.quit=g,k.ready=h,j=setTimeout(f,0),d[j]=1,{quit:g,ready:h}}}function b(a){clearTimeout(a),delete d[a]}var c,d={};return a.frequency=250,a.timeout=3e4,a.kill=function(a){for(var e in d)b(e);c=a},a});